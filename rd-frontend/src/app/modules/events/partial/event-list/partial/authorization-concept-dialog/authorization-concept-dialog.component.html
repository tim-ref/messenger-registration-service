<!--
  ~ Copyright (C) 2024 akquinet GmbH
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~      http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  ~
  -->
<div id="authorization-concept-dialog" class="flex flex-col w-90">
  <h2 class="header text-lg">
    {{ "ADMIN.INSTANCE_LIST.AUTH_CONCEPT_DIALOG.TITLE" | translate }}
  </h2>
  <form [formGroup]="formGroup" class="relative pt-4">
    <div class="mb-2 flex items-center justify-start">
      <label for="concept-in-use" class="mr-2">{{ "ADMIN.INSTANCE_LIST.AUTH_CONCEPT_DIALOG.CONCEPT_IN_USE" | translate }}</label>
      <select id="concept-in-use" formControlName="useOldAuthConcept" class="form-select text-right">
        <option [ngValue]="true">{{ "ADMIN.INSTANCE_LIST.AUTH_CONCEPT_DIALOG.OLD_CONCEPT" | translate }}</option>
        <option [ngValue]="false">{{ "ADMIN.INSTANCE_LIST.AUTH_CONCEPT_DIALOG.NEW_CONCEPT" | translate }}</option>
      </select>
    </div>
    <div class="mb-2 flex justify-between">
      <label for="default-config" class="mr-2">{{ "ADMIN.INSTANCE_LIST.AUTH_CONCEPT_DIALOG.DEFAULT_SETTING" | translate }}</label>
      <select id="default-config" formControlName="useAllowAllAsDefault" class="form-select text-right">
        <option [ngValue]="true" >{{ "ADMIN.INSTANCE_LIST.AUTH_CONCEPT_DIALOG.ALLOW_ALL" | translate }}</option>
        <option [ngValue]="false">{{ "ADMIN.INSTANCE_LIST.AUTH_CONCEPT_DIALOG.BLOCK_ALL" | translate }}</option>
      </select>
    </div>
    <div
      *ngIf="loading"
      class="absolute inset-0 bg-white/50 flex justify-center items-center">
      <div class="loading-spinner w-10 h-10"></div>
    </div>
  </form>

  <generic-button
    id="save-auth-config-button"
    [disabled]="loading"
    (click)="saveSettings()"
    icon="fa-plus-circle"
    iconColor="white"
    class="mt-4 mb-4 w-full"
  >{{
    "ADMIN.INSTANCE_LIST.AUTH_CONCEPT_DIALOG.SAVE" | translate
    }}</generic-button
  >
</div>

