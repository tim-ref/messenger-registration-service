<!--
  ~ Copyright (C) 2023 akquinet GmbH
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~      http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  ~
  -->

<div id="create-instance-dialog" class="flex flex-col w-72">
  <h2 class="header text-lg">
    {{ "ADMIN.INSTANCE_LIST.LOG_DOWNLOAD_DIALOG.TITLE" | translate }}
  </h2>
  <form [formGroup]="formGroup" class="relative">
    <generic-input
      type="datetime-local"
      id="start-input"
      [control]="formGroup.get('start')"
      name="{{ 'ADMIN.INSTANCE_LIST.LOG_DOWNLOAD_DIALOG.START' | translate }}">
    </generic-input>
    <span class="text-xs text-primary" *ngIf="getError('start')">
      {{getError("start") | translate}}</span>
    <generic-input
      id="timespan-input"
      [control]="formGroup.get('timespan')"
      name="{{ 'ADMIN.INSTANCE_LIST.LOG_DOWNLOAD_DIALOG.TIMESPAN' | translate }}">
    </generic-input>
    <span class="text-xs text-primary" *ngIf="getError('timespan')">{{
      getError("timespan") | translate
      }}</span>
    <div
      *ngIf="loading"
      class="absolute inset-0 bg-white/50 flex flex-col justify-center items-center">
      <generic-loading-indicator class="w-10 h-10"></generic-loading-indicator>
    </div>
  </form>
  <generic-button
    id="logDownload-button"
    [disabled]="!formGroup.valid || loading"
    (click)="logDownload()"
    icon="fa-plus-circle"
    iconColor="white"
    class="mt-4 mb-4 w-full"
  >{{
    "ADMIN.INSTANCE_LIST.LOG_DOWNLOAD_DIALOG.DOWNLOAD" | translate
    }}</generic-button
  >
</div>
